# MusicQueue
유튜브 영상을 차례대로 출력하는 파이썬 코드!

# 사용 방법
## 파이썬 코드 실행
1. 본 깃허브 저장소를 [다운로드](https://github.com/gaon12/MusicQueue/archive/main.zip)하고, 파일을 압축 해제 합니다.
2. 압축 해제한 폴더로 이동 후, 쉘 또는 CMD에 다음과 같이 입력합니다. 그 전에 파이썬이 설치되어 있어야 합니다.
```shell
pip install selenium
```
3. 영상 리스트 파일(`music.txt`)을 만듭니다. 한 줄에 하나씩 입력합니다.
 - `music.txt` 파일은 파이썬 코드와 같은 폴더에 위치해 있어야 합니다.
 - 단, `https://youtu.be/`와 같이 단축 URL 형식으로 입력하면 안됩니다.
 - 또한 자동 재생이 설정되어 있어야 합니다.
 - 광고 제거 프로그램이나 유튜브 프리미엄으로 로그인 하면 더욱 쾌적하게 사용이 가능합니다.
4. 크롬/엣지 브라우저 버전을 확인합니다. 크롬/엣지 브라우저에 접속 후 다음과 같이 입력해 주세요.
```url
chrome://version
```

5. 버전에 맞는 드라이버 파일을 다운로드 합니다.
 - [크롬 드라이버](https://chromedriver.chromium.org/downloads) - 파이썬 코드와 동일한 폴더에 위치. 파일명은 `chromedriver.exe`로 저장
 - [엣지 브라우저 드라이버](https://developer.microsoft.com/ko-kr/microsoft-edge/tools/webdriver/) - 파이썬 코드와 동일한 폴더에 위치. 파일명은 `msedgedriver.exe`로 저장

6. 파이썬 코드를 실행합니다.
```shell
python music.py
// 또는
python3 music.py
```

7. 사용할 브라우저를 선택 하면 끝!

## 빌드된 버전 사용
빌드된 버전을 사용하면 더욱 편하게 사용할 수 있어요. 다만 일부 백신에서 오탐지 할 수 있어요. 하지만 바이러스는 전혀 없으니 걱정하지 마세요!

1. [릴리즈 페이지](https://github.com/gaon12/MusicQueue/releases)에서 최신 버전을 다운로드 받아 주세요.
2. 영상 리스트 파일(`music.txt`)을 만듭니다. 한 줄에 하나씩 입력합니다.
 - `music.txt` 파일은 빌드된 파일(exe)과 같은 폴더에 위치해 있어야 합니다.
 - 단, `https://youtu.be/`와 같이 단축 URL 형식으로 입력하면 안됩니다.
 - 또한 자동 재생이 설정되어 있어야 합니다.
 - 광고 제거 프로그램이나 유튜브 프리미엄으로 로그인 하면 더욱 쾌적하게 사용이 가능합니다.
4. 크롬/엣지 브라우저 버전을 확인합니다. 크롬/엣지 브라우저에 접속 후 다음과 같이 입력해 주세요.
```url
chrome://version
```

5. 버전에 맞는 드라이버 파일을 다운로드 합니다.
 - [크롬 드라이버](https://chromedriver.chromium.org/downloads) - 파이썬 코드와 동일한 폴더에 위치. 파일명은 `chromedriver.exe`로 저장
 - [엣지 브라우저 드라이버](https://developer.microsoft.com/ko-kr/microsoft-edge/tools/webdriver/) - 파이썬 코드와 동일한 폴더에 위치. 파일명은 `msedgedriver.exe`로 저장

6. exe 파일을 실행합니다.
7. 사용할 브라우저를 선택 하면 끝!

# 작동 순서
1. 먼저, 프로그램은 사용자에게 어떤 브라우저를 사용하겠느냐를 물어봅니다. 사용자는 Chrome이나 Edge를 선택할 수 있습니다.
2. 선택한 브라우저에 따라 프로그램은 적절한 웹드라이버를 설정합니다.
3. 프로그램은 무한 루프를 시작합니다. 이 루프는 프로그램이 중단될 때까지 음악을 계속 재생합니다.
4. 프로그램은 'music.txt'라는 텍스트 파일을 열고 모든 URL을 읽습니다.
5. 파일에 URL이 하나도 없으면 "No music to play. Exiting..."라는 메시지를 출력하고 프로그램이 종료됩니다.
6. 파일에 URL이 있다면, 첫 번째 URL을 가져와서 선택한 브라우저에서 엽니다.
7. 브라우저가 URL을 열고 음악이 재생되기 시작하면, 프로그램은 무한 루프를 시작하여 현재 URL이 원래 URL과 같은지 확인합니다. URL이 변경되면(음악이 끝나면), 브라우저는 다음 동영상으로 넘어가므로 이 루프가 끝나게 됩니다.
8. 음악이 끝나면, 프로그램은 'music.txt' 파일을 다시 열고 첫 번째 줄(방금 재생된 음악의 URL)을 제거합니다. 이렇게 하면 'music.txt' 파일은 항상 다음에 재생될 음악의 URL을 첫 줄에 가지고 있게 됩니다.
9. 이런 방식으로 프로그램은 계속해서 음악을 재생하고, 음악이 끝날 때마다 해당 음악의 URL을 파일에서 제거합니다.
10. 프로그램은 사용자가 중단할 때까지 또는 'music.txt' 파일에 더 이상 재생할 음악이 없을 때까지 이런 작업을 반복합니다.

# 주의사항
1. 프로그램이 실행 중이더라도 언제든 리스트를 수정할 수 있습니다. 다만 우연의 일치로 프로그램이 텍스트 파일을 읽을 때 저장하려고 하면 저장이 되지 않을 수도 있으므로 저장이 되지 않는다면 기다렸다가 다시 시도해 주시기 바랍니다.
2. 메모장으로 텍스트 파일을 열기 보다는 [Notepad++](https://notepad-plus-plus.org/downloads)나 [Visual Studio Code](https://code.visualstudio.com) 등을 사용하는 것을 권장합니다. 파일이 계속 수정되기 때문에 메모장은 수정된 것을 인식하지 못하기 때문입니다.
3. 영상 재생 중간에 브라우저를 끄면 `music.txt`의 첫번째 줄이 삭제됩니다. 따라서 종료하실 때에는 콘솔창을 먼저 닫아주세요.
4. 윈도우 외의 환경에서도 동작합니다만, 셀레니움 드라이버 불러오는 부분을 수정해야 합니다.

# 라이선스
본 프로젝트는 [MIT 라이선스](https://github.com/gaon12/MusicQueue/blob/main/LICENSE)로 배포 됩니다!